<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <!-- Primary Meta Tags -->
  <title>صوغة|  Sougha</title>
  <meta name="title" content="صوغة - أفضل كوفي شوب في مجمع الأفنيوز البحرين | Sougha - Best Coffee Shop in Avenues Mall Bahrain" />
  <meta name="description" content="استمتع بأفضل القهوة الإيطالية والحلويات الشعبية في صوغة - كوفي شوب مميز في مجمع الأفنيوز البحرين. إسبريسو، كابتشينو، لاتيه، حلويات إيطالية، قهوة عربية، مشروبات ساخنة وباردة. | Enjoy the best Italian coffee and traditional desserts at Sougha - a premium coffee shop in Avenues Mall Bahrain. Espresso, Cappuccino, Latte, Italian desserts, Arabic coffee, hot and cold beverages." />
  <meta name="keywords" content="صوغة, كوفي شوب, قهوة, إسبريسو, كابتشينو, لاتيه, حلويات إيطالية, قهوة عربية, مجمع الأفنيوز, البحرين, المنامة, مشروبات ساخنة, مشروبات باردة, قهوة مثلجة, ساندويتش, كرواسون, تشيز كيك, Sougha, coffee shop, espresso, cappuccino, latte, Italian desserts, Arabic coffee, Avenues Mall, Bahrain, Manama, hot drinks, cold drinks, iced coffee, sandwich, croissant, cheesecake" />
  <meta name="author" content="صوغة - كوفي شوب | Sougha Coffee Shop" />
  <meta name="robots" content="index, follow" />
  <meta name="language" content="Arabic, English" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="restaurant.cafe" />
  <meta property="og:url" content="{{ url()->current() }}" />
  <meta property="og:title" content="صوغة - أفضل كوفي شوب في مجمع الأفنيوز البحرين | Sougha - Best Coffee Shop in Avenues Mall Bahrain" />
  <meta property="og:description" content="استمتع بأفضل القهوة الإيطالية والحلويات الشعبية في صوغة - كوفي شوب مميز في مجمع الأفنيوز البحرين. إسبريسو، كابتشينو، لاتيه، حلويات إيطالية، قهوة عربية، مشروبات ساخنة وباردة. | Enjoy the best Italian coffee and traditional desserts at Sougha - a premium coffee shop in Avenues Mall Bahrain. Espresso, Cappuccino, Latte, Italian desserts, Arabic coffee, hot and cold beverages." />
  <meta property="og:image" content="{{ asset('images/logo icon-01.png') }}" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:site_name" content="صوغة - كوفي شوب | Sougha Coffee Shop" />
  <meta property="og:locale" content="ar_SA" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="{{ url()->current() }}" />
  <meta property="twitter:title" content="صوغة - أفضل كوفي شوب في مجمع الأفنيوز البحرين | Sougha - Best Coffee Shop in Avenues Mall Bahrain" />
  <meta property="twitter:description" content="استمتع بأفضل القهوة الإيطالية والحلويات الشعبية في صوغة - كوفي شوب مميز في مجمع الأفنيوز البحرين | Enjoy the best Italian coffee and traditional desserts at Sougha - a premium coffee shop in Avenues Mall Bahrain" />
  <meta property="twitter:image" content="{{ asset('images/logo icon-01.png') }}" />
  
  <!-- Additional Meta Tags -->
  <meta name="theme-color" content="#5e4636" />
  <meta name="msapplication-TileColor" content="#5e4636" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="صوغة | Sougha" />
  <meta name="application-name" content="صوغة - كوفي شوب | Sougha Coffee Shop" />
  
  <!-- Canonical URL -->
  <link rel="canonical" href="{{ url()->current() }}" />
  
  <!-- Favicon and Icons -->
  <link rel="icon" type="image/png" href="{{ asset('images/logo icon-01.png') }}" />
  <link rel="manifest" href="{{ asset('manifest.webmanifest') }}" />
  
  <!-- PWA Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="صوغة | Sougha" />
  <meta name="msapplication-TileColor" content="#5e4636" />
  <meta name="msapplication-tap-highlight" content="no" />
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="{{ asset('images/logo icon-01.png') }}" />
  <link rel="apple-touch-icon" sizes="152x152" href="{{ asset('images/logo icon-01.png') }}" />
  <link rel="apple-touch-icon" sizes="180x180" href="{{ asset('images/logo icon-01.png') }}" />
  <link rel="apple-touch-icon" sizes="167x167" href="{{ asset('images/logo icon-01.png') }}" />
  
  <!-- Microsoft Tiles -->
  <meta name="msapplication-TileImage" content="{{ asset('images/logo icon-01.png') }}" />
  <meta name="msapplication-config" content="none" />
  
  <!-- Preconnect for Performance -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ asset('css/style.css') }}" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="loader" id="loader">
    <div class="loader-content">
      <div class="loader-logo">
        <img src="{{ asset('images/logo icon-01.png') }}" alt="صوغة - كوفي شوب في مجمع الأفنيوز البحرين | Sougha Coffee Shop in Avenues Mall Bahrain" width="300" height="300" decoding="async">
      </div>
    </div>
  </div>

  <section class="hero-section" id="hero-section">
    <div class="hero-content">
      <img src="{{ asset('images/Sougha.png') }}" alt="صوغة - أفضل كوفي شوب في مجمع الأفنيوز البحرين | Sougha - Best Coffee Shop in Avenues Mall Bahrain" class="hero-logo" width="600" height="600" decoding="async">
    </div>
  </section>

  <section class="menu-section" id="menu">
    <div class="container">
      <div class="menu-top">
        <img src="{{ asset('images/1-04.png') }}" alt="صوغة - قائمة الطعام | Sougha - Food Menu" class="header-logo" width="200" height="100" loading="lazy" decoding="async">
        <div class="lang-switch" id="lang-switch" role="group" aria-label="تبديل اللغة | Language Switch">
          <button type="button" class="lang-btn active" data-lang="en" aria-pressed="true">EN</button>
          <button type="button" class="lang-btn" data-lang="ar" aria-pressed="false">AR</button>
        </div>
      </div>

      <div class="menu-header">
        <div class="header-content">
          <div class="header-right">
            <nav class="categories" id="categories" aria-label="فئات القائمة | Menu Categories" role="tablist">
              @if(isset($categories))
                @foreach($categories as $index => $category)
                  <button 
                    class="category-btn {{ $index === 0 ? 'active' : '' }}" 
                    data-category="{{ $category['slug'] }}" 
                    role="tab" 
                    aria-selected="{{ $index === 0 ? 'true' : 'false' }}"
                    aria-controls="product-grid"
                  >
                    @if($category['icon'])
                      <img src="{{ $category['icon'] }}" alt="{{ $category['label']['ar'] }}" class="category-icon" loading="lazy">
                    @endif
                    <span class="category-label" data-en="{{ $category['label']['en'] }}" data-ar="{{ $category['label']['ar'] }}">
                      {{ $category['label']['ar'] }}
                    </span>
                  </button>
                @endforeach
              @endif
            </nav>
          </div>
        </div>
      </div>
      <div class="product-grid" id="product-grid">
        @if(isset($products))
          @foreach($products as $product)
            <div class="product-card" data-category="{{ $product['category'] }}" data-subcategory="{{ $product['subcategory'] }}">
              <div class="product-image-container">
                @if($product['image'])
                  <img src="{{ $product['image'] }}" alt="{{ $product['name']['ar'] }}" class="product-image" loading="lazy" decoding="async">
                @else
                  <div class="product-placeholder">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                      <circle cx="8.5" cy="8.5" r="1.5"/>
                      <polyline points="21,15 16,10 5,21"/>
                    </svg>
                  </div>
                @endif
              </div>
              <div class="product-info">
                <h3 class="product-name" data-en="{{ $product['name']['en'] }}" data-ar="{{ $product['name']['ar'] }}">
                  {{ $product['name']['ar'] }}
                </h3>
                <div class="product-pricing">
                  @if($product['price'])
                    <span class="price">{{ $product['price'] }} {{ $product['currency'] }}</span>
                  @endif
                  @if($product['price_two'])
                    <span class="price-secondary">{{ $product['price_two'] }} {{ $product['currency'] }}</span>
                  @endif
                  @if($product['price_three'])
                    <span class="price-tertiary">{{ $product['price_three'] }} {{ $product['currency'] }}</span>
                  @endif
                </div>
              </div>
            </div>
          @endforeach
        @endif
      </div>
    </div>
  </section>

  <!-- Product Modal -->
  <div class="product-modal" id="product-modal">
    <div class="modal-overlay" id="modal-overlay"></div>
    <div class="modal-content">
      <button class="modal-close" id="modal-close" aria-label="إغلاق | Close">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
      <div class="modal-body">
        <div class="modal-image-container">
          <img id="modal-product-image" src="" alt="" class="modal-product-image">
        </div>
      </div>
    </div>
  </div>

  <!-- Pass data to JavaScript -->
  <script>
    window.menuData = {
      categories: @json($categories ?? []),
      products: @json($products ?? []),
      currentCategory: @json($currentCategory ?? null)
    };
  </script>
  
  <script src="{{ asset('js/script.js') }}"></script>
  
  <!-- PWA Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js')
          .then(function(registration) {
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
          })
          .catch(function(err) {
            console.log('ServiceWorker registration failed: ', err);
          });
      });
    }
    
    // PWA Install Prompt
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      // Show install button
      const installBtn = document.createElement('button');
      installBtn.innerHTML = 'تثبيت التطبيق | Install App';
      installBtn.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #5e4636;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        cursor: pointer;
        z-index: 1000;
        font-weight: 600;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      `;
      
      installBtn.addEventListener('click', () => {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === 'accepted') {
            console.log('User accepted the install prompt');
          }
          deferredPrompt = null;
          installBtn.remove();
        });
      });
      
      document.body.appendChild(installBtn);
    });
    
    // Handle app installed
    window.addEventListener('appinstalled', (evt) => {
      console.log('PWA was installed');
    });
  </script>
</body>
</html>


